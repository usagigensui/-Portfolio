<div class="profile">
  <!--ヘッダー呼び出し-->
    <%= render "profiles/header", profile: @profile %>

  <!--タブメニュー-->
  <nav>
    <ul class="nav nav-tabs nav-fill">
    <li class="nav-item">
      <%= link_to profile_path, class: "nav-link" do %>
        <i class="fas fa-paperclip"></i>
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to timeline_profile_path(@profile.id), class: "nav-link" do %>
        <i class="far fa-clock"></i>
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to schedules_path(@profile.id), class: "nav-link active" do %>
        <i class="far fa-calendar-alt"></i>
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to "", class: "nav-link" do %>
        <i class="far fa-envelope"></i>
      <% end %>
    </li>
    </ul>
  </nav>

  <div class="row">
  <section class="col-md-7">


  <!--ログインしている場合-->
  <% if user_signed_in? %>
    <!--ログインユーザーがプロフィールオーナーの場合-->
    <% if current_user.id == @profile.user_id %>
      <!--新規投稿ボタン-->
      <div class="">
        <%= link_to "#", class: "", "data-toggle": "modal", "data-target": "#scheduleModal" do %>
          <i class="fas fa-plus"></i>
        <% end %>
      </div>
      <!--新規投稿モーダルの立ち上げ-->
      <div id="scheduleModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <%= render "schedules/form", { profile: @profile, schedule: @schedule } %>
      </div>
    <% end %>
  <% end %>

  <!--予定一覧-->
  <% @schedules.each do |schedule| %>
    <p>
      <%= schedule.title %>
      <%= schedule.start_date %><%= schedule.end_date %><br>
      <%= simple_format(h(schedule.body)) %>
    </p>
  <% end %>

  </section>
  <section class="col-md-5">
  <!--カレンダーの表示-->
  <div id="calendar"></div>
  </section>


  </div>
  <!--Javascript(カレンダー)-->
  <script>
    $(document).ready(function() {
      $('#calendar').fullCalendar({
        events: "schedules.json",
        // 日付マスを選択できない
        selectable: false,
        // 時刻の表示はしない
        displayEventTime: false,
        // スクロールしない
        contentHeight: 'auto'
      })
    });
  </script>
</div>